!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","../parser/cssNodes","../languageFacts/facts","../utils/strings","../services/lintRules","vscode-languageserver-types","vscode-nls"],e)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("../parser/cssNodes"),r=e("../languageFacts/facts"),n=e("../utils/strings"),s=e("../services/lintRules"),i=e("vscode-languageserver-types"),a=e("vscode-nls").loadMessageBundle(),c=function(){function e(){}return e.prototype.doCodeActions=function(e,t,o,r){return this.doCodeActions2(e,t,o,r).map((function(t){return i.Command.create(t.title,"_css.applyCodeAction",e.uri,e.version,t.edit.documentChanges[0].edits)}))},e.prototype.doCodeActions2=function(e,t,o,r){var n=[];if(o.diagnostics)for(var s=0,i=o.diagnostics;s<i.length;s++){var a=i[s];this.appendFixesForMarker(e,r,a,n)}return n},e.prototype.getFixesForUnknownProperty=function(e,t,o,s){var c=t.getName(),d=[];r.cssDataManager.getProperties().forEach((function(e){var t=n.difference(c,e.name);t>=c.length/2&&d.push({property:e.name,score:t})})),d.sort((function(e,t){return t.score-e.score}));for(var u=3,f=0,p=d;f<p.length;f++){var g=p[f].property,l=a("css.codeaction.rename","Rename to '{0}'",g),v=i.TextEdit.replace(o.range,g),y=i.VersionedTextDocumentIdentifier.create(e.uri,e.version),m={documentChanges:[i.TextDocumentEdit.create(y,[v])]},h=i.CodeAction.create(l,m,i.CodeActionKind.QuickFix);if(h.diagnostics=[o],s.push(h),--u<=0)return}},e.prototype.appendFixesForMarker=function(e,t,r,n){if(r.code===s.Rules.UnknownProperty.id)for(var i=e.offsetAt(r.range.start),a=e.offsetAt(r.range.end),c=o.getNodePath(t,i),d=c.length-1;d>=0;d--){var u=c[d];if(u instanceof o.Declaration){var f=u.getProperty();if(f&&f.offset===i&&f.end===a)return void this.getFixesForUnknownProperty(e,f,r,n)}}},e}();t.CSSCodeActions=c}));