!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","../parser/htmlScanner","vscode-languageserver-types","../htmlLanguageTypes","../languageFacts/builtinDataProviders"],e)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("../parser/htmlScanner"),r=e("vscode-languageserver-types"),a=e("../htmlLanguageTypes"),o=e("../languageFacts/builtinDataProviders");t.doHover=function(e,t,u){var i=e.offsetAt(t),l=u.findNodeAt(i);if(!l||!l.tag)return null;var s=o.getAllDataProviders().filter((function(t){return t.isApplicable(e.languageId)}));function g(e,t,n){e=e.toLowerCase();for(var a=function(a){var o=null;if(a.provideTags().forEach((function(a){if(a.name.toLowerCase()===e.toLowerCase()){var u=n?"<"+e+">":"</"+e+">",i=a.description||"";o={contents:[{language:"html",value:u},r.MarkedString.fromPlainText(i)],range:t}}})),o)return{value:o}},o=0,u=s;o<u.length;o++){var i=a(u[o]);if("object"==typeof i)return i.value}return null}function f(t,r){for(var o=n.createScanner(e.getText(),r),u=o.scan();u!==a.TokenType.EOS&&(o.getTokenEnd()<i||o.getTokenEnd()===i&&u!==t);)u=o.scan();return u===t&&i<=o.getTokenEnd()?{start:e.positionAt(o.getTokenOffset()),end:e.positionAt(o.getTokenEnd())}:null}if(l.endTagStart&&i>=l.endTagStart){var d=f(a.TokenType.EndTag,l.endTagStart);return d?g(l.tag,d,!1):null}var c=f(a.TokenType.StartTag,l.start);return c?g(l.tag,c,!0):null}}));